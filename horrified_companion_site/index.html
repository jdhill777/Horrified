<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Horrified Companion</title>
  <meta name="theme-color" content="#0d0d12"/>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="assets/icons/icon-192.png" type="image/png">
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <svg class="brand-mark" viewBox="0 0 64 64" aria-hidden="true">
        <defs>
          <radialGradient id="g" cx="50%" cy="50%" r="60%">
            <stop offset="0%" stop-color="#a6ffef" stop-opacity="0.9"/>
            <stop offset="100%" stop-color="#0d0d12" stop-opacity="0.2"/>
          </radialGradient>
        </defs>
        <circle cx="32" cy="32" r="28" fill="url(#g)" stroke="#FC8C1C" stroke-width="3"/>
        <text x="50%" y="56%" text-anchor="middle" font-size="28" font-family="Creepster, Inter" fill="#f5f0e6">HC</text>
      </svg>
      <div>
        <h1>Horrified Companion</h1>
        <p class="sub">Jack &amp; Meg’s game-night tracker</p>
      </div>
    </div>
    <nav class="nav">
      <button id="btnSetup" class="ghost">Setup</button>
      <button id="btnSession" class="ghost">Session</button>
      <button id="btnStats" class="ghost">Stats</button>
      <button id="btnExport" class="ghost" title="Export all data">Export</button>
      <label class="file-upload">
        <input type="file" id="fileImport" accept="application/json" hidden>
        <span>Import</span>
      </label>
    </nav>
  </header>

  <main id="viewSetup" class="view show">
    <section class="panel">
      <h2>Players</h2>
      <div class="grid two">
        <label>Player 1
          <input id="p1" value="Jack">
        </label>
        <label>Player 2
          <input id="p2" value="Meg">
        </label>
      </div>
    </section>

    <section class="panel">
      <h2>Game &amp; Monsters</h2>
      <div class="grid two">
        <label>Set
          <select id="gameSet">
            <option value="classic">Classic Monsters</option>
            <option value="american">American Monsters</option>
            <option value="both">Both Sets</option>
          </select>
        </label>
        <label>Target Win Condition
          <select id="target">
            <option value="standard">Standard (win/lose)</option>
            <option value="speedrun">Speedrun (fewest turns)</option>
            <option value="safety">Safety (fewest terror)</option>
          </select>
        </label>
      </div>
      <div id="monsterPicker" class="monster-picker"></div>
      <div class="hint">Tip: in the base game, more monsters = higher difficulty.</div>
    </section>

    <section class="panel">
      <h2>House Rules</h2>
      <label class="check"><input id="hrFastVillagers" type="checkbox"> Double-move rescued villagers</label>
      <label class="check"><input id="hrNoPerks" type="checkbox"> No perks</label>
      <label class="check"><input id="hrHardEvents" type="checkbox"> Always resolve hardest event</label>
    </section>

    <section class="panel actions">
      <button id="btnStart" class="cta">Start New Session</button>
    </section>
  </main>

  <main id="viewSession" class="view">
    <section class="hud">
      <div class="hud-item">
        <span class="hud-label">Terror</span>
        <div class="track">
          <button class="step" id="terrorDown">–</button>
          <div id="terrorDisplay" class="count">0</div>
          <button class="step" id="terrorUp">+</button>
        </div>
      </div>
      <div class="hud-item">
        <span class="hud-label">Villagers Saved</span>
        <div class="track">
          <button class="step" id="savedDown">–</button>
          <div id="savedDisplay" class="count">0</div>
          <button class="step" id="savedUp">+</button>
        </div>
      </div>
      <div class="hud-item">
        <span class="hud-label">Turns</span>
        <div class="track">
          <button class="step" id="turnDown">–</button>
          <div id="turnDisplay" class="count">0</div>
          <button class="step" id="turnUp">+</button>
        </div>
      </div>
      <div class="hud-item">
        <button id="btnEnd" class="danger">End Session</button>
      </div>
    </section>

    <section id="monsterArea" class="panel monster-area">
      <!-- Monster cards injected here -->
    </section>

    <section class="panel">
      <h2>Notes</h2>
      <textarea id="notes" rows="4" placeholder="Key moments, brutal defeats, hilarious saves…"></textarea>
    </section>
  </main>

  <main id="viewStats" class="view">
    <section class="panel">
      <h2>Lifetime Record</h2>
      <div id="lifetime" class="stats-row"></div>
    </section>
    <section class="panel">
      <h2>By Monster</h2>
      <div id="byMonster" class="grid three"></div>
    </section>
    <section class="panel">
      <h2>Recent Sessions</h2>
      <div id="recentSessions"></div>
    </section>
  </main>

  <footer class="footer">
    <p>Made for Jack &amp; Meg • Theme inspired by classic movie monsters. This is a fan-made companion and not affiliated with any publisher.</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
